"use strict";(self.webpackChunkwingrow=self.webpackChunkwingrow||[]).push([[910],{7910:function(e,s,o){o.r(s),o.d(s,{default:function(){return N}});var n=o(4942),t=o(1413),a=o(3433),l=o(9439),i=o(2791),r=o(7205),c=o(5017),m=o(5953),d=o(4565),p=o(9365),u=o(4020),h=o(8055),f=o(7689),x=o(1087),g=o(6457),Z=o(8704),y=o(1840),j=o(5985),b=(o(5462),o(9462)),v=o(8639),S=o(184),w=g.Z.getCurrentUser(),P=[188,13,49];function N(){(0,i.useEffect)((function(){w&&(g.Z.logout(),window.location.reload())}),[]);var e=(0,f.s0)(),s=(0,i.useState)(!1),o=(0,l.Z)(s,2),N=o[0],C=o[1],F=(0,i.useState)({phone:"",password:"",firstname:"",lastname:"",type:"",farmertype:"",address:""}),z=(0,l.Z)(F,2),O=z[0],I=z[1],W=i.useState([]),k=(0,l.Z)(W,2),T=k[0],A=k[1],V=(0,i.useState)(),R=(0,l.Z)(V,2),U=R[0],B=R[1],D=(0,i.useState)(""),q=(0,l.Z)(D,2),E=q[0],L=q[1],M=function(e){var s=e.target,o=s.name,a=s.value;I((function(e){return(0,t.Z)((0,t.Z)({},e),{},(0,n.Z)({},o,a))}))},H=function(){window.recaptchaVerifier=new b.Z.auth.RecaptchaVerifier("sign-in-button",{size:"invisible",callback:function(e){_(),console.log("Recaptcha Verified")},defaultCountry:"IN"})},_=function(e){e.preventDefault(),console.log("here"),H();var s="+91"+O.phone;console.log(s);var o=window.recaptchaVerifier;b.Z.auth().signInWithPhoneNumber(s,o).then((function(e){window.confirmationResult=e,console.log("OTP has been sent")})).catch((function(e){console.log("SMS not sent")}))},K=(0,i.useState)(!0),G=(0,l.Z)(K,2),J=(G[0],G[1],(0,i.useState)(!0)),Q=(0,l.Z)(J,2),X=(Q[0],Q[1],(0,i.useState)(!1)),Y=(0,l.Z)(X,2),$=(Y[0],Y[1],(0,i.useState)(!1)),ee=(0,l.Z)($,2),se=(ee[0],ee[1],(0,i.useState)(!1)),oe=(0,l.Z)(se,2);oe[0],oe[1];return(0,S.jsxs)("div",{className:"authContainer",children:[(0,S.jsx)(j.Ix,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light",color:"success"}),(0,S.jsx)(j.Ix,{}),N?(0,S.jsx)(y.Z,{}):(0,S.jsxs)("div",{className:"authbox",children:[(0,S.jsx)("img",{className:"login_image",src:"./images/2.png",alt:"logo"}),(0,S.jsxs)("form",{className:"register_details",component:"form",noValidate:!0,onSubmit:_,sx:{mt:3},children:[(0,S.jsx)("div",{id:"sign-in-button"}),(0,S.jsx)("img",{className:"form-logo",src:"./logo.png",alt:"form-logo"}),(0,S.jsx)(d.Z,{className:"form-heading",component:"h1",variant:"h5",children:"Welcome to Wingrowagritech"}),(0,S.jsx)(d.Z,{className:"form-heading",mt:2,component:"h1",variant:"h5",children:"Signup with us"}),(0,S.jsxs)(m.ZP,{className:"input-div-holder",container:!0,spacing:2,children:[(0,S.jsx)(m.ZP,{item:!0,xs:12,sm:6,children:(0,S.jsx)(c.Z,{inputlabelprops:{style:{fontSize:14,fontFamily:"monospace"}},autoComplete:"given-name",name:"firstname",value:O.firstname,onChange:M,required:!0,fullWidth:!0,id:"firstName",label:"First Name",autoFocus:!0,color:"success",className:"textfield"})}),(0,S.jsx)(m.ZP,{item:!0,xs:12,sm:6,children:(0,S.jsx)(c.Z,{inputlabelprops:{style:{fontSize:14,fontFamily:"monospace"}},required:!0,fullWidth:!0,id:"lastName",label:"Last Name",name:"lastname",value:O.lastname,onChange:M,autoComplete:"family-name",color:"success",className:"textfield"})}),(0,S.jsx)(m.ZP,{item:!0,xs:12,children:(0,S.jsxs)(h.Z,{className:"textfield",sx:{width:"100%",fontSize:14},children:[(0,S.jsx)(p.Z,{inputlabelprops:{style:{fontSize:14,fontFamily:"monospace"}},id:"demo-simple-select-helper-label",children:"Type"}),(0,S.jsxs)(v.ZP,{sx:{fontSize:"1.2rem"},labelId:"demo-simple-select-helper-label",id:"demo-simple-select-helper",value:O.type,label:"Type",name:"type",onChange:M,color:"success",children:[(0,S.jsx)(u.Z,{sx:{fontSize:"1.3rem",fontFamily:"monospace"},value:"",children:(0,S.jsx)("em",{children:"Select"})}),(0,S.jsx)(u.Z,{sx:{fontSize:"1.3rem",fontFamily:"monospace"},value:"farmer",children:"Producer"}),(0,S.jsx)(u.Z,{sx:{fontSize:"1.3rem",fontFamily:"monospace"},value:"customer",children:"Consumer"})]})]})}),"farmer"===O.type&&(0,S.jsx)(m.ZP,{item:!0,xs:12,children:(0,S.jsxs)(h.Z,{className:"textfield",color:"success",sx:{width:"100%"},children:[(0,S.jsx)(p.Z,{id:"demo-simple-select-helper-label",children:"Producer Type"}),(0,S.jsxs)(v.ZP,{sx:{fontSize:"1.3rem"},labelId:"demo-simple-select-helper-label",id:"demo-simple-select-helper",value:O.farmertype,label:"farmertype",name:"farmertype",onChange:M,children:[(0,S.jsx)(u.Z,{value:"",children:(0,S.jsx)("em",{children:"None"})}),(0,S.jsx)(u.Z,{sx:{fontSize:"1.3rem",fontFamily:"monospace"},value:"farmers",children:"Farmer"}),(0,S.jsx)(u.Z,{sx:{fontSize:"1.3rem",fontFamily:"monospace"},value:"Organic farmers",children:"Organic Farmer"}),(0,S.jsx)(u.Z,{sx:{fontSize:"1.3rem",fontFamily:"monospace"},value:"FPO/FPC",children:"FPO/FPC"}),(0,S.jsx)(u.Z,{sx:{fontSize:"1.3rem",fontFamily:"monospace"},value:"Retailer",children:"Retailer"}),(0,S.jsx)(u.Z,{sx:{fontSize:"1.3rem",fontFamily:"monospace"},value:"Wholesaler",children:"Wholesaler"}),(0,S.jsx)(u.Z,{sx:{fontSize:"1.3rem",fontFamily:"monospace"},value:"Start-up",children:"Start Up"}),(0,S.jsx)(u.Z,{sx:{fontSize:"1.3rem",fontFamily:"monospace"},value:"Vocal for local producers",children:"Vocal for Local Producers"})]})]})}),(0,S.jsx)(m.ZP,{item:!0,xs:12,children:(0,S.jsx)(c.Z,{inputlabelprops:{style:{fontSize:14,fontFamily:"monospace"}},fullWidth:!0,name:"address",label:"address (optional)",type:"address",id:"address",value:O.address,onChange:M,autoComplete:"new-address",color:"success",className:"textfield"})}),"farmer"===O.type&&(0,S.jsx)(m.ZP,{item:!0,xs:6,children:(0,S.jsx)(Z.V,{InputProps:{style:{fontSize:15}},inputlabelprops:{style:{fontSize:15}},tags:T,delimiters:P,handleDelete:function(e){A(T.filter((function(s,o){return o!==e})))},handleAddition:function(e){console.log("here",U),A([].concat((0,a.Z)(T),[e])),B("")},handleDrag:function(e,s,o){var n=T.slice();n.splice(s,1),n.splice(o,0,e),A(n)},inputFieldPosition:"bottom",handleInputChange:console.log("hello-----",T),autocomplete:!0,color:"success",className:"textfield",placeholder:"Add Selling Products Names and press enter"})})]}),"no error"!==E&&(0,S.jsx)("h3",{style:{alignSelf:"center",color:"red",marginTop:"10px"},children:E}),(0,S.jsx)(m.ZP,{item:!0,xs:12,sm:6,children:(0,S.jsx)(c.Z,{inputlabelprops:{style:{fontSize:14,fontFamily:"monospace"}},required:!0,fullWidth:!0,id:"phone",label:"Mobile Number",name:"phone",value:O.phone,onChange:M,color:"success",className:"textfield"})}),(0,S.jsx)(m.ZP,{children:(0,S.jsx)(r.Z,{type:"submit",fullWidth:!0,className:"signup-btn",variant:"contained",color:"success",size:"large",sx:{mt:3,mb:2},children:"Fetch Otp"})}),(0,S.jsx)(m.ZP,{container:!0,justifyContent:"center",children:(0,S.jsx)(m.ZP,{item:!0,children:(0,S.jsxs)(x.rU,{className:"form-link",to:"/login",variant:"body2",children:["Already have an account? ",(0,S.jsx)("span",{className:"login",children:"Log In"})]})})})]}),(0,S.jsxs)("form",{onSubmit:function(s){s.preventDefault();var o=O.password;console.log(o),window.confirmationResult.confirm(o).then((function(s){console.log("inside handleSubmit"),L("");var o=O.phone,n=O.firstname,t=O.lastname,a=O.farmertype,l=O.type;o.match("[0-9]{10}")?0===n.length&&0===t.length?L("Please provide valid first and last name"):0===l.length?L("Please select type"):"farmer"===l&&0===a.length?L("select producer type"):"farmer"===l&&0===T.length?L("select atleast one commodity and press enter"):(L("no error"),C(!0),g.Z.register(O.phone,O.password,O.firstname,O.lastname,O.type,O.farmertype,O.address,T).then((function(){j.Am.success("Registration successful!",{position:"top-center",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),setTimeout((function(){e("/registeration-successfull"),window.location.reload()}),1e3)}),(function(s){j.Am.warn("User Already Exists",{position:"top-center",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),I({phone:"",password:"",firstname:"",lastname:"",type:"",farmertype:"",address:""}),setTimeout((function(){e("/login"),window.location.reload()}),1e3)}))):L("Please provide valid phone number")})).catch((function(e){console.log("erroe in sumbitotp")}))},children:[(0,S.jsx)(m.ZP,{item:!0,xs:12,sm:6,children:(0,S.jsx)(c.Z,{inputlabelprops:{style:{fontSize:14,fontFamily:"monospace"}},required:!0,fullWidth:!0,name:"password",label:"Enter OTP",type:"password",id:"password",value:O.password,onChange:M,autoComplete:"new-password",color:"success",className:"textfield"})}),(0,S.jsx)("button",{className:"forgot-btn",type:"submit",children:"Submit OTP"})]})]})]})}},9462:function(e,s,o){var n=o(3897);o(444);n.Z.initializeApp({apiKey:"AIzaSyAUxdUdNhrl8BSz_4MxKa0d6FwiCfgMtUE",authDomain:"otp-demo-cc2a7.firebaseapp.com",projectId:"otp-demo-cc2a7",storageBucket:"otp-demo-cc2a7.appspot.com",messagingSenderId:"646152500375",appId:"1:646152500375:web:389ef29c749b662bd8e5d2"}),s.Z=n.Z}}]);
//# sourceMappingURL=910.9b49cdfd.chunk.js.map